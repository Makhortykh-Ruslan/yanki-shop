{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/notifications.service\";\nimport * as i2 from \"../../../../services/products.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../components/categoris/categoris.component\";\nimport * as i5 from \"../../components/filter/filter.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../components/card-product/card-product.component\";\nimport * as i8 from \"../../components/paginator/paginator.component\";\n\nfunction ProductsPageComponent_section_5_app_card_product_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-card-product\", 5);\n    i0.ɵɵlistener(\"click\", function ProductsPageComponent_section_5_app_card_product_1_Template_app_card_product_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const elem_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.onOpenProductPage(elem_r4.itemNo);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const elem_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"data\", elem_r4);\n  }\n}\n\nfunction ProductsPageComponent_section_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 1);\n    i0.ɵɵtemplate(1, ProductsPageComponent_section_5_app_card_product_1_Template, 1, 1, \"app-card-product\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.dataProducts == null ? null : ctx_r0.dataProducts.products);\n  }\n}\n\nfunction ProductsPageComponent_section_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 6, 7);\n    i0.ɵɵtext(2, \" \\u043D\\u0438\\u0445\\u0440\\u0435\\u043D\\u0430 \\u043D\\u0435\\u0442 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductsPageComponent_app_paginator_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-paginator\", 1);\n  }\n}\n\nexport let ProductsPageComponent = /*#__PURE__*/(() => {\n  class ProductsPageComponent {\n    constructor(notificationsService, productsService, route) {\n      this.notificationsService = notificationsService;\n      this.productsService = productsService;\n      this.route = route;\n      this.dataProducts = undefined;\n    }\n\n    ngOnInit() {\n      this.subDataProducts$ = this.productsService.productsState$.subscribe(params => {\n        this.onGetProducts(params);\n      });\n    }\n\n    onGetProducts(params) {\n      this.productsService.getFilteredProducts(this.filteredParamsProducts(params)).subscribe(res => {\n        this.dataProducts = res;\n      }, error => {});\n    }\n\n    filteredParamsProducts(params) {\n      const {\n        categories,\n        perPage,\n        startPage,\n        size,\n        color\n      } = params;\n      const paraCategories = categories ? `categories=${categories}` : '';\n      const paramSize = size ? `size=${size}` : '';\n      const paramColor = color ? `color=${color}` : '';\n      return `${paramColor}&${paramSize}&${paraCategories}&startPage=${startPage}&perPage=${perPage}`;\n    }\n\n    onOpenProductPage(id) {\n      this.route.navigate(['/product', id]);\n    }\n\n    ngOnDestroy() {\n      var _a;\n\n      (_a = this.subDataProducts$) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n\n  }\n\n  ProductsPageComponent.ɵfac = function ProductsPageComponent_Factory(t) {\n    return new (t || ProductsPageComponent)(i0.ɵɵdirectiveInject(i1.NotificationsService), i0.ɵɵdirectiveInject(i2.ProductsService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  ProductsPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductsPageComponent,\n    selectors: [[\"app-products-page\"]],\n    decls: 8,\n    vars: 3,\n    consts: [[1, \"products-wrapper\"], [1, \"products-item\"], [\"class\", \"products-item\", 4, \"ngIf\"], [\"class\", \"products-item products-item-dop\", 4, \"ngIf\"], [3, \"data\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"data\", \"click\"], [1, \"products-item\", \"products-item-dop\"], [\"elseBlock\", \"\"]],\n    template: function ProductsPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"products-page works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"section\", 0);\n        i0.ɵɵelement(3, \"app-categoris\", 1)(4, \"app-filter\", 1);\n        i0.ɵɵtemplate(5, ProductsPageComponent_section_5_Template, 2, 1, \"section\", 2);\n        i0.ɵɵtemplate(6, ProductsPageComponent_section_6_Template, 3, 0, \"section\", 3);\n        i0.ɵɵtemplate(7, ProductsPageComponent_app_paginator_7_Template, 1, 0, \"app-paginator\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.dataProducts == null ? null : ctx.dataProducts.products == null ? null : ctx.dataProducts.products.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.dataProducts == null ? null : ctx.dataProducts.products == null ? null : ctx.dataProducts.products.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dataProducts == null ? null : ctx.dataProducts.products == null ? null : ctx.dataProducts.products.length);\n      }\n    },\n    directives: [i4.CategorisComponent, i5.FilterComponent, i6.NgIf, i6.NgForOf, i7.CardProductComponent, i8.PaginatorComponent],\n    styles: [\".products-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px;grid-template-areas:\\\". f f f f\\\" \\\"c x x x x\\\" \\\"c x x x x\\\" \\\"c p p p p\\\"}.products-wrapper[_ngcontent-%COMP%]   .products-item[_ngcontent-%COMP%]:nth-child(1){grid-area:c}.products-wrapper[_ngcontent-%COMP%]   .products-item[_ngcontent-%COMP%]:nth-child(2){grid-area:f}.products-wrapper[_ngcontent-%COMP%]   .products-item[_ngcontent-%COMP%]:nth-child(3){grid-area:x;display:grid;grid-gap:15px;gap:15px;grid-template-columns:repeat(auto-fit,minmax(290px,1fr))}.products-wrapper[_ngcontent-%COMP%]   .products-item[_ngcontent-%COMP%]:nth-child(4){grid-area:p;align-self:end}@media (max-width: 930px){.products-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-areas:\\\"c\\\" \\\"f\\\" \\\"x\\\" \\\"p\\\"}}\"]\n  });\n  return ProductsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}