{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/products.service\";\nimport * as i2 from \"../../../../services/notifications.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../../services/cart.service\";\nimport * as i5 from \"../../../../services/auth.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/select\";\nimport * as i9 from \"@angular/material/core\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/expansion\";\n\nfunction ProductPageComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"img\", 21);\n    i0.ɵɵlistener(\"click\", function ProductPageComponent_div_4_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const img_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.imagesChange(img_r2);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const img_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", img_r2, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ProductPageComponent_mat_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const size_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", size_r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(size_r5);\n  }\n}\n\nexport let ProductPageComponent = /*#__PURE__*/(() => {\n  class ProductPageComponent {\n    constructor(productsService, notificationsService, router, cartService, authService) {\n      this.productsService = productsService;\n      this.notificationsService = notificationsService;\n      this.router = router;\n      this.cartService = cartService;\n      this.authService = authService;\n      this.panelOpenState = false;\n      this.sizes = ['xs', 's', 'm', 'l', 'xl'];\n    }\n\n    ngOnInit() {\n      this.getProduct(this.router.snapshot.params.id);\n    }\n\n    getProduct(id) {\n      var _a;\n\n      this.allProducts = this.cartService.getAllProducts();\n      this.getOneProduct = this.allProducts.find(elem => elem.itemNo === id);\n      this.imagesProduct = (_a = this.getOneProduct) === null || _a === void 0 ? void 0 : _a.imageUrls;\n      this.dataProduct = this.getOneProduct;\n      this.getTitleImg(this.imagesProduct);\n    }\n\n    ngOnDestroy() {// this.$subParams?.unsubscribe();\n    }\n\n    getTitleImg(dataImages, idxImg = 0) {\n      this.imageTitle = dataImages[idxImg];\n    }\n\n    imagesChange(elem) {\n      var _a;\n\n      const nextImageIdx = (_a = this.imagesProduct) === null || _a === void 0 ? void 0 : _a.findIndex(item => item === elem);\n      this.getTitleImg(this.imagesProduct, nextImageIdx);\n    }\n\n    onAddToCartProduct() {\n      var _a, _b;\n\n      if (!this.authService.getToken) {\n        this.cartService.addProduct(this.getOneProduct);\n        this.notificationsService.notificationDialogSuccess(`${(_a = this.getOneProduct) === null || _a === void 0 ? void 0 : _a.name}, добавлено в корзину!`);\n      } else {\n        this.cartService.addProductOnCartDB((_b = this.getOneProduct) === null || _b === void 0 ? void 0 : _b._id).subscribe(res => {\n          var _a; // @ts-ignore\n\n\n          this.cartService.cartStore$.next(res.products);\n          this.notificationsService.notificationDialogSuccess(`${(_a = this.getOneProduct) === null || _a === void 0 ? void 0 : _a.name}, добавлено в корзину!`);\n        });\n      }\n    }\n\n  }\n\n  ProductPageComponent.ɵfac = function ProductPageComponent_Factory(t) {\n    return new (t || ProductPageComponent)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.NotificationsService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.CartService), i0.ɵɵdirectiveInject(i5.AuthService));\n  };\n\n  ProductPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductPageComponent,\n    selectors: [[\"app-product-page\"]],\n    decls: 33,\n    vars: 7,\n    consts: [[1, \"product-page-wrapper\"], [1, \"product-page-content\"], [1, \"product-page-content-left\"], [1, \"product-img-items\"], [\"class\", \"product-img-items-container\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-img-title\"], [1, \"product-img-title-container\"], [\"alt\", \"\", 3, \"src\"], [1, \"product-page-content-right\"], [1, \"product-page-name\"], [1, \"product-page-price\"], [1, \"product-page-color\"], [1, \"product-page-select-size\"], [\"appearance\", \"outline\", 1, \"filter-desktop\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-page-buttons\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\"], [1, \"product-page-description\"], [3, \"opened\", \"closed\"], [1, \"product-img-items-container\"], [\"alt\", \"product\", 3, \"src\", \"click\"], [3, \"value\"]],\n    template: function ProductPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"section\", 3);\n        i0.ɵɵtemplate(4, ProductPageComponent_div_4_Template, 2, 1, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"section\", 5)(6, \"div\", 6);\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 8)(9, \"p\", 9);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\", 10);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\", 11);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"section\", 12)(16, \"mat-form-field\", 13)(17, \"mat-label\");\n        i0.ɵɵtext(18, \"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mat-select\");\n        i0.ɵɵtemplate(20, ProductPageComponent_mat_option_20_Template, 2, 2, \"mat-option\", 14);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"section\", 15)(22, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function ProductPageComponent_Template_button_click_22_listener() {\n          return ctx.onAddToCartProduct();\n        });\n        i0.ɵɵtext(23, \"\\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"button\", 17);\n        i0.ɵɵtext(25, \"\\u0432 \\u0438\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"section\", 18)(27, \"mat-accordion\")(28, \"mat-expansion-panel\", 19);\n        i0.ɵɵlistener(\"opened\", function ProductPageComponent_Template_mat_expansion_panel_opened_28_listener() {\n          return ctx.panelOpenState = true;\n        })(\"closed\", function ProductPageComponent_Template_mat_expansion_panel_closed_28_listener() {\n          return ctx.panelOpenState = false;\n        });\n        i0.ɵɵelementStart(29, \"mat-expansion-panel-header\")(30, \"mat-panel-title\");\n        i0.ɵɵtext(31, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.imagesProduct);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.imageTitle, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.dataProduct == null ? null : ctx.dataProduct.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.dataProduct == null ? null : ctx.dataProduct.currentPrice);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.dataProduct == null ? null : ctx.dataProduct.color);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sizes);\n        i0.ɵɵadvance(12);\n        i0.ɵɵtextInterpolate1(\" \", ctx.dataProduct == null ? null : ctx.dataProduct.composition, \" \");\n      }\n    },\n    directives: [i6.NgForOf, i7.MatFormField, i7.MatLabel, i8.MatSelect, i9.MatOption, i10.MatButton, i11.MatAccordion, i11.MatExpansionPanel, i11.MatExpansionPanelHeader, i11.MatExpansionPanelTitle],\n    styles: [\".preloader-container[_ngcontent-%COMP%]{position:absolute;top:0;background-color:#ffffffc7;width:100%;height:100%;z-index:1001}.mat-dialog-container[_ngcontent-%COMP%]{padding:0}mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%]{color:#252525}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%], .mat-form-field-appearance-outline.mat-focused[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:#e0bea2}.mat-form-field-appearance-outline.mat-focused.mat-accent[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%], .mat-form-field-appearance-outline.mat-focused.mat-warn[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%], .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:#252525}mat-label[_ngcontent-%COMP%]{color:#252525c7}.mat-primary[_ngcontent-%COMP%]   .mat-option.mat-selected[_ngcontent-%COMP%]:not(.mat-option-disabled){color:#e0bea2}.product-page-wrapper[_ngcontent-%COMP%]{padding:40px 0}.product-page-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(500px,1fr));grid-gap:50px;gap:50px}.product-img-items-container[_ngcontent-%COMP%]{cursor:pointer;width:100px;height:100px;transition:all .5s ease-out}.product-img-items-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.product-img-items-container[_ngcontent-%COMP%]:hover{box-shadow:1px 4px 5px #e0bea2;transform:translateY(-2px)}.product-page-content-left[_ngcontent-%COMP%]{display:flex;gap:10px}.product-img-title-container[_ngcontent-%COMP%]{transition:all .5s ease-out}.product-img-title-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.product-img-title-container[_ngcontent-%COMP%]:hover{box-shadow:1px 4px 5px #e0bea2;transform:translateY(-2px)}.product-img-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.product-page-content-right[_ngcontent-%COMP%]{width:100%}.product-page-content-right[_ngcontent-%COMP%]   .product-page-name[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-style:normal;font-weight:300;font-size:16px;color:#252525;font-size:20px}.product-page-content-right[_ngcontent-%COMP%]   .product-page-price[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-style:normal;font-weight:300;color:#252525;font-size:16px;font-weight:700}.product-page-content-right[_ngcontent-%COMP%]   .product-page-color[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-style:normal;font-weight:300;font-size:16px;color:#252525;font-size:14px}.product-page-content-right[_ngcontent-%COMP%]   .product-page-buttons[_ngcontent-%COMP%]{display:flex;gap:20px}.product-page-content-right[_ngcontent-%COMP%]   .product-page-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.product-page-content-right[_ngcontent-%COMP%]   .product-page-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#e0bea2;border-radius:0;font-family:Raleway,sans-serif;font-style:normal;font-weight:300;font-size:16px;color:#252525;color:#fff}.product-page-content-right[_ngcontent-%COMP%]   .product-page-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){border:1px solid #252525;border-radius:0;font-family:Raleway,sans-serif;font-style:normal;font-weight:300;font-size:16px;color:#252525}.product-page-content-right[_ngcontent-%COMP%]   .product-page-description[_ngcontent-%COMP%]{padding:20px 0 0}@media (max-width: 580px){.product-page-content-left[_ngcontent-%COMP%]{flex-direction:column-reverse}.product-page-content-left[_ngcontent-%COMP%]   .product-img-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.product-page-content[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}}@media (max-width: 580px) and (max-width: 400px){.product-page-content[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}@media (max-width: 580px){.product-img-items-container[_ngcontent-%COMP%]{width:revert;height:revert}}\"]\n  });\n  return ProductPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}